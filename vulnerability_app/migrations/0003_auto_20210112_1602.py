# Generated by Django 3.1.5 on 2021-01-12 13:28
from datetime import date

from django.db import migrations

from vulnerability_app.models import AccessedPage


def populate_accessed_page(apps, schema_editor):
    # accessed_page = apps.get_model('vulnerability_app', 'AccessedPage')
    pages_list = [AccessedPage(url="https://google.com/?dafda&Dsbjh=23",
                               accessed_on=date.today(),
                               cookies="dsjhjghdsufye476t13tr7uy24923urhf",
                               ip="192.168.0.1",
                               secured=True),
                  AccessedPage(url="http://pinterest.com/?dafda&Dsbjh=23",
                               accessed_on=date.today(),
                               cookies="d234325rgr522tg'4[25p09",
                               ip="192.168.0.2",
                               secured=False),
                  AccessedPage(url="http://goo.gle.com/?dafda&Dsbjh=23",
                               accessed_on=date.today(),
                               cookies="43ygh5h'4[25p09",
                               ip="192.168.0.3",
                               secured=False)
                  ]
    AccessedPage.objects.bulk_create(pages_list)
    # for person in Person.objects.all():
    #     person.name = '%s %s' % (person.first_name, person.last_name)
    #     person.save()


class Migration(migrations.Migration):
    dependencies = [
        ('vulnerability_app', '0002_accessedpage_safedomain'),
    ]

    operations = [
        migrations.RunPython(populate_accessed_page),
    ]